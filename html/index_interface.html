<!DOCTYPE html>
<html>
<head>
	<title>piLights</title>
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
	<meta name="format-detection" content="telephone=no">
	<meta name="viewport" content="user-scalable=no">
	<link rel="stylesheet" href="piLights.css"/>
	<!--<script type="text/javascript" language="javascript" src="piLight.js"></script>-->
	<script src="zebra.min.js" type="text/javascript"></script>
</head>
<script type='text/javascript'>

var gDebug

function myLoad() {
	// http://www.html5canvastutorials.com
	//var c=document.getElementById("myCanvas");
	//var ctx=c.getContext("2d");
	//ctx.fillStyle="#660000";
	//ctx.fillRect(0,0,150,75);
	gDebug = document.getElementById('debug');
}

function moveDisplay(x) {
	var d = document.getElementById("displays");
	d.style.left = -x+'px';
}

gSliderObj=null;
gSliderTravelMax=0;
gSliderTravelPercent=0.0;
gSliderMouseOffset=0;
function sliderHandleMouseDown(e,obj) {
	gSliderObj = obj;
	gSliderTravelMax = obj.parentNode.clientHeight - obj.clientHeight;
	gSliderMouseOffset = e.screenY;
	document.onmousemove = handleSliderMove;
	
	gDebug.innerHTML = gSliderTravelMax + ', ' + gSliderTravelPercent + ', ' + gSliderMouseOffset
}
function handleSliderMove(e) {
	gSliderTravelPercent = parseInt(gSliderObj.style.top) / gSliderTravelMax;
	//gDebug.innerHTML = gSliderTravelPercent
	//+', '+gSliderTravelPercent+', '+gSliderMouseOffset;
	
	
	offset1 = gSliderTravelPercent * gSliderTravelMax;
	offset = Math.min(Math.max(0, e.screenY - gSliderMouseOffset), gSliderTravelMax)
	
	gDebug.innerHTML = offset + ' | ' + offset1
	
	gSliderObj.style.top = offset + 'px';
	
	document.onmouseup = sliderHandleMouseUp;
}
function sliderHandleMouseUp(e) {
	document.onmousemove = null;
	document.onmouseup = null;
	
	gSliderTravelPercent = parseInt(gSliderObj.style.top) / gSliderTravelMax;
	
	gDebug.innerHTML = gSliderTravelPercent + '%';
}

	function login() {
		var f = document.createElement("form");
		f.setAttribute('method',"post");
		f.setAttribute('action',"index.php");
		var e = document.createElement("input");
			e.setAttribute('name',"key");
			e.setAttribute('value',document.getElementById('login-name').value + '/' + document.getElementById('login-pass').value);
		f.appendChild(e);
		f.submit();
	}

</script>
<body onLoad="myLoad();">
<!-- <canvas id="myCanvas" ></canvas> -->

<div class="fullscreen">

<div class="displays" id="displays">
	<div id="displayMaster">
		<ui class="box" style="width: 50px; height: 200px;">
	
		<ui class="slider"><ui class="sliderBar" onMouseDown="sliderHandleMouseDown(event,this);"></ui></ui>
		
		</ui>
	</div>
	<div id="displayColors">colors
	</div>
	<div id="displayPatterns">patterns
	</div>
	<div id="displayAbout">about
	</div>
</div>


<ul class="controlsList">
	<li id="controlMaster"	 onClick="moveDisplay(0*512)">master</li>
	<li id="controlColors"	 onClick="moveDisplay(1*512)">colors</li>
	<li id="controlPatterns" onClick="moveDisplay(2*512)">patterns</li>
	<li id="controlAbout"    onClick="moveDisplay(3*512)">about</li>
</ul>

</div>
<div class="debug" id="debug"/>
</body>
</html>